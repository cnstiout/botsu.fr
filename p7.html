<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dream Game - Prototype</title>
</head>
<body>
  <h1>Dream Game - projet 7</h1>

  <h2>Horloge dÃ©cimale</h2>
  <p id="decimalClock">Chargement...</p>

  <h2>Date du calendrier rÃ©publicain</h2>
  <p id="republicanDate">Chargement...</p>

  <h2>Statistiques du personnage</h2>
  <ul>
    <li>ğŸ§  Psychique : <span id="psychiqueStat">80</span>%</li>
    <li>ğŸ’ª Physique : <span id="physiqueStat">70</span>%</li>
    <li>ğŸ”‹ VolontÃ© : <span id="volonteStat">100</span>%</li>
  </ul>

<h2>Actions disponibles</h2>

<button onclick="faireThe()">ğŸµ Faire un thÃ© (âˆ’10 Physique)</button><br>
<button onclick="faireAction()">ğŸª„ Faire une action (âˆ’10 VolontÃ©)</button><br>
<button onclick="manger()">ğŸ½ï¸ Manger (âˆ’10 Psychique)</button><br>
<button onclick="lire()">ğŸ“– Lire un livre (+10 Psychique)</button><br>
<button onclick="mediter()">ğŸ§˜ MÃ©diter (+10 VolontÃ©)</button><br>
<button onclick="marcher()">ğŸš¶ Marcher (âˆ’10 VolontÃ©, +5 Physique)</button><br>
<button onclick="ecrire()">âœï¸ Ã‰crire (âˆ’5 VolontÃ©, âˆ’5 Psychique, effet diffÃ©rÃ©)</button><br>
<button onclick="dormir()">ğŸ’¤ Dormir (+20 partout)</button><br>

<script>
  // Extraits du script prÃ©cÃ©dent
  function faireThe() {
    stats.physique = Math.max(0, stats.physique - 10);
    updateStats();
  }

  function faireAction() {
    stats.volonte = Math.max(0, stats.volonte - 10);
    updateStats();
  }

  function manger() {
    stats.psychique = Math.max(0, stats.psychique - 10);
    updateStats();
  }

  function lire() {
    stats.psychique = Math.min(100, stats.psychique + 10);
    updateStats();
  }

  function mediter() {
    stats.volonte = Math.min(100, stats.volonte + 10);
    updateStats();
  }

  function marcher() {
    stats.volonte = Math.max(0, stats.volonte - 10);
    stats.physique = Math.min(100, stats.physique + 5);
    updateStats();
  }

  function ecrire() {
    stats.volonte = Math.max(0, stats.volonte - 5);
    stats.psychique = Math.max(0, stats.psychique - 5);
    updateStats();
    setTimeout(() => {
      stats.psychique = Math.min(100, stats.psychique + 10);
      updateStats();
    }, 5000); // effet diffÃ©rÃ© aprÃ¨s 5 secondes
  }

  function dormir() {
    stats.volonte = Math.min(100, stats.volonte + 20);
    stats.psychique = Math.min(100, stats.psychique + 20);
    stats.physique = Math.min(100, stats.physique + 20);
    updateStats();
  }
</script>

  <script>
    function getDecimalTime() {
      const now = new Date();
      const msToday = now - new Date(now.getFullYear(), now.getMonth(), now.getDate());
      const decimalDay = (msToday / (24 * 60 * 60 * 1000)) * 100000;
      const h = Math.floor(decimalDay / 10000);
      const m = Math.floor((decimalDay % 10000) / 100);
      const s = Math.floor(decimalDay % 100);
      return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
    }

    const months = [
      "VendÃ©miaire", "Brumaire", "Frimaire", "NivÃ´se", "PluviÃ´se", "VentÃ´se",
      "Germinal", "FlorÃ©al", "Prairial", "Messidor", "Thermidor", "Fructidor"
    ];
    const joursCompl = [
      "FÃªte de la Vertu", "FÃªte du GÃ©nie", "FÃªte du Travail",
      "FÃªte de lâ€™Opinion", "FÃªte des RÃ©compenses", "FÃªte de la RÃ©volution"
    ];
    const dÃ©cade = [
      "Primidi", "Duodi", "Tridi", "Quartidi", "Quintidi",
      "Sextidi", "Septidi", "Octidi", "Nonidi", "DÃ©cadi"
    ];

    function getRepublicanDate() {
      const start = new Date(Date.UTC(1792, 8, 22));
      const today = new Date();
      const daysDiff = Math.floor((today - start) / (1000 * 60 * 60 * 24));
      const an = Math.floor(daysDiff / 365.2425) + 1;
      const daysOfYear = Math.floor(daysDiff % 365.2425);

      if (daysOfYear >= 360) {
        return `${joursCompl[daysOfYear - 360] || 'Jour complÃ©mentaire'} - An ${an}`;
      }

      const mois = Math.floor(daysOfYear / 30);
      const jour = daysOfYear % 30;
      return `${dÃ©cade[jour % 10]} ${jour + 1} ${months[mois]} - An ${an}`;
    }

    function updateClock() {
      document.getElementById("decimalClock").textContent = getDecimalTime();
      document.getElementById("republicanDate").textContent = getRepublicanDate();
    }

    setInterval(updateClock, 1000);
    updateClock();

    // Stats
    let stats = {
      psychique: 80,
      physique: 70,
      volonte: 100
    };

    function updateStats() {
      document.getElementById("psychiqueStat").textContent = stats.psychique;
      document.getElementById("physiqueStat").textContent = stats.physique;
      document.getElementById("volonteStat").textContent = stats.volonte;
    }

    function faireAction() {
      stats.volonte = Math.max(0, stats.volonte - 10);
      updateStats();
    }

    updateStats();
  </script>
</body>
</html>
